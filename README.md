# YrYr Asset Sync

ゲーム開発用リソース同期ツール - PhotoshopやMayaなどで作成したアセットをゲーム用フォルダに効率的に同期

## 概要

YrYr Asset Syncは、ゲーム開発において制作ツール（Photoshop、Maya、Blender等）で作成したアセットを、ゲームエンジンのプロジェクトフォルダに効率的に同期するためのツールです。

UnityやUnreal Engineのような自動インポート機能を持たないゲームエンジンや、独自エンジン開発において、リソースファイルの管理を簡単にします。

## 主要機能

- **プロジェクト管理**: 複数のゲームプロジェクトを管理
- **フォルダペア同期**: ソースフォルダ→ターゲットフォルダの同期設定
- **フィルタリング**: 拡張子や正規表現による柔軟なファイルフィルタ
- **自動監視**: ファイル変更を検知して自動同期（オプション）
- **バックアップ**: 上書き前の自動バックアップ
- **ログ管理**: ローテーション付きログで操作履歴を記録
- **プレビュー**: 同期前に対象ファイルを確認
- **並行処理**: 複数ファイルの同時コピーで高速化

## システム要件

- Python 3.9以上
- Windows/macOS/Linux
- PySide6 (GUI)
- watchdog (ファイル監視、オプション)

## インストール

1. リポジトリをクローン
```bash
git clone <repository-url>
cd yryr-asset-sync
```

2. 依存関係をインストール
```bash
pip install -r requirements.txt
```

3. アプリケーションを起動
```bash
python main.py
```

## 使い方

### 1. プロジェクト作成
1. 「新規」ボタンでプロジェクトを作成
2. プロジェクト名と説明を入力

### 2. フォルダペア設定
1. 「追加」ボタンでフォルダペアを追加
2. ソースフォルダ（制作ツール側）とターゲットフォルダ（ゲーム側）を指定
3. 必要に応じてフィルタパターンを設定

### 3. 同期実行
1. フォルダペアを選択
2. 「同期実行」ボタンで同期開始
3. 進捗状況をリアルタイムで確認

### 4. 自動監視（オプション）
1. フォルダペア設定で「自動同期」を有効化
2. 「監視開始」ボタンで監視開始
3. ファイル変更時に自動同期

## フィルタパターン例

### 含むパターン
- `*.jpg` - JPG画像のみ
- `*.{png,jpg,jpeg}` - 複数の拡張子
- `regex:.*\\.jpe?g$` - 正規表現でJPEG/JPG

### 除外パターン
- `*.tmp` - 一時ファイルを除外
- `*~` - バックアップファイルを除外
- `regex:.*\\.temp$` - 正規表現で一時ファイル除外

## ディレクトリ構造

```
yryr-asset-sync/
├── main.py                 # メインアプリケーション
├── src/                    # ソースコード
│   ├── ui/                # UI関連
│   │   ├── main_window.py
│   │   ├── project_dialog.py
│   │   └── sync_dialog.py
│   ├── core/              # コア機能
│   │   ├── sync_engine.py
│   │   ├── project_manager.py
│   │   └── file_watcher.py
│   ├── config/            # 設定管理
│   │   ├── models.py
│   │   └── config_manager.py
│   └── utils/             # ユーティリティ
│       ├── logger.py
│       └── file_utils.py
├── data/                   # 設定・ログ
│   ├── projects/          # プロジェクト設定
│   ├── logs/              # ログファイル
│   └── config.json        # アプリ設定
└── requirements.txt        # 依存関係
```

## 開発・カスタマイズ

### ログレベル変更
`data/config.json`の`log_level`を変更:
- DEBUG: 詳細なデバッグ情報
- INFO: 一般的な情報
- WARNING: 警告のみ
- ERROR: エラーのみ

### 設定ファイル
- プロジェクト設定: `data/projects/*.json`
- アプリ設定: `data/config.json`
- ログファイル: `data/logs/`

## トラブルシューティング

### ファイル監視が動作しない
- watchdogライブラリがインストールされているか確認
```bash
pip install watchdog
```

### 同期が失敗する
- ソース/ターゲットフォルダのアクセス権限を確認
- フィルタパターンの構文を確認
- ログファイルでエラー詳細を確認

### パフォーマンスが悪い
- 並行処理数を調整（デフォルト：4）
- 不要なフィルタパターンを削除
- ログレベルをWARNING以上に設定

## ライセンス

本プロジェクトで使用しているライブラリは全て商用利用可能です。

- Python: PSF License
- PySide6: LGPLv3
- watchdog: Apache License 2.0

## 貢献

バグ報告や機能提案は、GitHubのIssueでお願いします。

## 履歴

- v1.0.0: 初期リリース
  - 基本的な同期機能
  - プロジェクト管理
  - ファイル監視
  - フィルタリング
  - ログ機能